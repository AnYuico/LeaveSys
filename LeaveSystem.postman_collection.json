{
	"info": {
		"_postman_id": "6bd7f331-7793-4f0b-a152-51a75b384930",
		"name": "LeaveSystem",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "用户登录注册",
			"item": [
				{
					"name": "领导LoginTest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "Leader",
									"type": "text"
								},
								{
									"key": "password",
									"value": "12345",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:8080/user/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"user",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "RegisterTest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "Leader",
									"type": "text"
								},
								{
									"key": "password",
									"value": "12345",
									"type": "text"
								},
								{
									"key": "realName",
									"value": "leader",
									"type": "text"
								},
								{
									"key": "role",
									"value": "4",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:8080/user/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"user",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "老师LoginTest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "Teacher",
									"type": "text"
								},
								{
									"key": "password",
									"value": "12345",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:8080/user/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"user",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "学生LoginTest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "tzp2",
									"type": "text"
								},
								{
									"key": "password",
									"value": "12345",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:8080/user/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"user",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "请假",
			"item": [
				{
					"name": "LeaveRequestSubmit",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"startDate\": \"2025-06-15\",\r\n  \"endDate\": \"2025-06-25\",\r\n  \"leaveType\": 2,\r\n  \"reason\": \"家中有急事，需回家处理\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/leave-request/apply",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"leave-request",
								"apply"
							]
						}
					},
					"response": []
				},
				{
					"name": "LeaveMaterialTest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/C:/Users/user/OneDrive/图片/Screenshots/niko.png"
								},
								{
									"key": "leaveRequestId",
									"value": "5",
									"type": "text"
								},
								{
									"key": "materialType",
									"value": "家庭证明",
									"type": "text"
								},
								{
									"key": "",
									"value": "",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "http://localhost:8080/leave-material/upload",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"leave-material",
								"upload"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetMyApplyList",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/leave-request/myApply",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"leave-request",
								"myApply"
							]
						}
					},
					"response": []
				},
				{
					"name": "销假cancel",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/leave-request/cancel/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"leave-request",
								"cancel",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "审批",
			"item": [
				{
					"name": "老师同意",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"leaveRequestId\": 2,\r\n  \"result\": 2,\r\n  \"comment\": \"老师同意，请注意安全\"\r\n}"
						},
						"url": {
							"raw": "http://localhost:8080/approval-flow/teacher-approval",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"approval-flow",
								"teacher-approval"
							]
						}
					},
					"response": []
				},
				{
					"name": "领导同意",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"leaveRequestId\": 2,\r\n  \"result\": 2,\r\n  \"comment\": \"领导同意，请注意安全\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/approval-flow/leader-approval",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"approval-flow",
								"leader-approval"
							]
						}
					},
					"response": []
				},
				{
					"name": "老师查看请假列表",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/approval-flow/teacher-pending",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"approval-flow",
								"teacher-pending"
							]
						}
					},
					"response": []
				},
				{
					"name": "领导查看请假列表",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/approval-flow/leader-pending",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"approval-flow",
								"leader-pending"
							]
						}
					},
					"response": []
				},
				{
					"name": "根据LeaveRequestId查看请假详情'",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "http://localhost:8080/approval-flow/detail/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"approval-flow",
								"detail",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "统计",
			"item": [
				{
					"name": "EzExcel导出指定月份的请假记录TeacherExportLeaveRequestByMonth",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/leave-request/exportByMonth/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"leave-request",
								"exportByMonth",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "获取学生请假统计数据",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/attendance-stat/summary",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"attendance-stat",
								"summary"
							]
						}
					},
					"response": []
				},
				{
					"name": "手动执行生成预警",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/attendance-stat/run-warning-now",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"attendance-stat",
								"run-warning-now"
							]
						}
					},
					"response": []
				},
				{
					"name": "获取最新预警表",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/warning-log/list",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"warning-log",
								"list"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}